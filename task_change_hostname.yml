#6:37
---
- name: Change hostname with user input at runtime -e set_hostname=<new_hostname>
  hosts: localhost
  connection: local
  become: true
  gather_facts: true
  tasks:
    - name: kali to.......
      lineinfile:
        path: /etc/hosts
        state: present
        regexp: '^%127.0.1.1 kali'
        backup: yes                #may need to remove
        line: '%127.0.1.1 "{{ set_hostname }}"'
    - name: Set Hostname
      command: 'hostnamectl set-hostname "{{ set_hostname }}"'
    - name: Reboot system
      command: 'reboot'
...
